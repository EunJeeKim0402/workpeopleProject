<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mailMapper">

	<resultMap id="mailResult" type="Mail">
		<result column="mail_no" property="mailNo" />
		<result column="mail_title" property="mailTitle" />
		<result column="mail_content" property="mailContent" />
		<result column="sender" property="sender" />
		<result column="receiver" property="receiver" />
		<result column="mail_ref" property="mailRef" />
		<result column="send_date" property="sendDate" />
		<result column="send_status" property="sendStatus" />
	</resultMap>

	<insert id="insertMail">
		insert
		  into Mail
		     (
		       mail_no
		     , mail_title
		     , mail_content
		     , sender
		     , receiver
		     , mail_ref
		     )
		values
			 (
			   seq_mail.nextval
			 , #{mailTitle}
			 , #{mailContent}
			 , #{sender}
			 , #{receiver}
			 , #{mailRef}
			 )
	</insert>
	
	<insert id="insertAttachment">
		insert
		  into Attachment
		     (
		       file_no
		     , ref_type
		     , ref_no
		     , origin_name
		     , change_name
		     )
		values
			 (
			   seq_file.nextval
			 , 1
			 , seq_mail.currval
			 , #{originName}
			 , #{changeName}
			 )
	</insert>

</mapper>